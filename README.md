# pyTestHarness: The idea #

Testing code should be easy. The functionality required to launch, parse and perform the verification should be light-weight and simple to migrate into existing projects. pyTestHarness supports unit-testing of sequential and MPI-parallel applications. Unit tests can be performed locally, or submitted via a batch queuing system (e.g. PBS, LSF, Slurm or LoadLeveler).

### Key concepts ###

pyTH provides:

* An object to define a unit test. A "unit test" consists of (i) a textual name, (ii) an executable, (iii) a method to compare any output generated by the test (e.g. from stdout or anyother output file)
* A set of tools to parse / filter and query text files for verification purposes
* An object to manage launching a serial (or MPI) unit test through a batch queuing system

### How do I use this crap? ###

1. pyTH depends on python3

2. It is recommended you set the environment variable PYTHONUNBUFFERED

3. Make sure you set PYTHONPATH environment variable to include the directory where the ```pth_{test,batch}.py``` files live.

####Demonstration of basic unit-testing for serial tests. 
Features: 
(i) comparison with data in a file
  
    cd pth_example1
    python3.4 pth_example1.py
  
####Demonstration of basic unit-testing for serial tests.
Features:
(i) unit tests which are defined in separate directories;
(ii) tests can be optionally selected
  
    cd example2
    python3.4 pth_example2.py
  
####Demonstration of parallel tests using PETSc code. 
Features:
(i) unit test execution of a parallel application which is submitted via a batch queuing system

  
    cd example3
    python3.4 pth_example3.py